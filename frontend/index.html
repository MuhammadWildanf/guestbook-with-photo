<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="favicon.png" type="image/png" />
  <script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
  <script src="script.js" defer></script>
  <title>Guest Book</title>
</head>

<body>
  <div class="wrapper d-flex align-items-center">
    <div class="container mb-5">
      <div class="row px-4 justify-content-center" id="hero-container">
        <img src="logo-green-summit.png" alt="Logo" class="img-fluid " id="hero" />
      </div>
    </div>
    <div class="container d-flex justify-content-center mt-2">
      <div class="p1" id="p1" style="display: block">
        <form id="identity" action="" method="get">
          <div class="pg1" id="pg1" style="display: block">
            <div class="grey-box">
              <div class="form-group mb-3">
                <input type="text" class="form-control" id="name" aria-describedby="name" placeholder="Masukkan Nama"
                  maxlength="15">
              </div>
              <div class="form-group mb-3">
                <textarea class="form-control" name="comment" id="comment" rows="3" maxlength="80"
                  placeholder="Tulis Testimoni anda di sini "></textarea>
              </div>
              <div class="mb-3">
                <div class="card shadow-sm p-3 mb-2" style="max-width:400px; margin:auto; background:#f8f9fa;">
                  <h5 class="text-center mb-2">Ambil Foto Selfie</h5>
                  <p class="text-center text-muted" style="font-size:0.95em;">Arahkan wajah ke kamera, klik <b>Ambil
                      Foto</b>. Jika kurang jelas, klik <b>Foto Ulang</b>.</p>
                  <div class="d-flex justify-content-center mb-2" style="position:relative;">
                    <video id="video" autoplay playsinline muted width="320" height="240"
                      style="border-radius:12px; background:#000; box-shadow:0 2px 8px #0002; transform:scaleX(-1);"></video>
                    <!-- Overlay bingkai wajah -->
                    <div id="face-guide-container" class="face-overlay">
                      <div class="face-hole"></div>
                    </div>
                    <canvas id="canvas" width="320" height="240" style="display:none; transform:scaleX(-1);"></canvas>
                    <img id="photo-preview" src="" alt="Preview Foto"
                      style="display:none; border-radius:12px; box-shadow:0 2px 8px #0002; margin-top:10px;" width="320"
                      height="240" />
                    <!-- Tambahkan frame overlay -->
                    <div id="countdown" style="
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-size:64px;
    font-weight:bold;
    color:white;
    text-shadow:0 0 10px black;
    display:none;
    z-index:10;
  ">
                      3
                    </div>
                  </div>
                </div>
                <div class="d-flex justify-content-center gap-2">
                  <button type="button" id="take-photo" class="btn btn-success">ðŸ“¸ Ambil Foto</button>
                  <button type="button" id="retake-photo" class="btn btn-warning" style="display:none;">Foto
                    Ulang</button>
                </div>
              </div>
            </div>
          </div>
          <div class="button d-flex justify-content-center">
            <button id="next" class="custom-btn">MASUK</button>
          </div>
      </div>
      </form>
    </div>
    <div class="p2" id="p2" style="display: none;">
      <div id="char-container"></div>
      <div class="card text-light p-4 text-center" id="thank" style="background-color: #1c8263; border-radius: 20px;">
        <h1 class="card-title mb-0" style="font-size: 25px;">Terimakasih</h1>
        <h2 id="user-name" class="my-2" style="font-size: 30px; font-weight: bold;"></h2>
        <h1 class="card-title mt-0" style="font-size: 25px;">Atas Partisipasinya!</h1>
      </div>
    </div>
  </div>
  <div class="background-bottom"></div>

</body>

</html>